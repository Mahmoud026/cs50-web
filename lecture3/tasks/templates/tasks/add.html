{% extends "tasks/layout.html" %}
{% load static %}

{% block content %}
    <div class="page-header">
        <h1>Add New Task</h1>
        <a href="{% url 'tasks:index' %}" class="cancel-btn">← Back to Tasks</a>
    </div>
    
    {% if form.errors %}
        <div class="error-message">
            <strong>Please correct the following errors:</strong>
            {{ form.errors }}
        </div>
    {% endif %}
    
    <div class="form-container">
        <form action="{% url 'tasks:add' %}" method="post">
            {% csrf_token %}
            <div class="form-field">
                <label for="{{ form.task.id_for_label }}">{{ form.task.label }}:</label>
                {{ form.task }}
                {% if form.task.errors %}
                    <div class="error">{{ form.task.errors.0 }}</div>
                {% endif %}
            </div>
            
            <div class="form-field">
                <label for="{{ form.priority.id_for_label }}">{{ form.priority.label }}:</label>
                {{ form.priority }}
                {% if form.priority.errors %}
                    <div class="error">{{ form.priority.errors.0 }}</div>
                {% else %}
                    <div class="help">Enter a priority level from 1 (lowest) to 7 (highest)</div>
                {% endif %}
            </div>
            
            <div class="btn-group">
                <button type="submit" class="submit-btn">
                    <span class="add-icon">➕</span> Add Task
                </button>
                <a href="{% url 'tasks:index' %}" class="cancel-btn">Cancel</a>
            </div>
        </form>
    </div>
{% endblock %}

{% block vanta_script %}
<script src="{% static 'tasks/js/add-vanta.js' %}"></script>
{% endblock %}
